var R=(a=>(a.COHERE_API="api.cohere.ai",a))(R||{});class k{COHERE_API_KEY="";COHERE_VERSION="1";init(t){this.COHERE_API_KEY=t}async post(t,E){const i=JSON.stringify(E);return(await fetch(`api.cohere.ai/v${this.COHERE_VERSION}${t}`,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":Buffer.byteLength(i,"utf8").toString(),Authorization:`Bearer ${this.COHERE_API_KEY}`,"Request-Source":"forked-sdk"},body:i})).json()}}var h=new k,g=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),p=g((a,t)=>{var E=(s=>(s.GENERATE="/generate",s.EMBED="/embed",s.CLASSIFY="/classify",s.TOKENIZE="/tokenize",s.DETOKENIZE="/detokenize",s.DETECT_LANGUAGE="/detect-language",s.SUMMARIZE="/summarize",s))(E||{});const i=5;class d{init(e){h.init(e)}makeRequest(e,c){return h.post(e,c)}generate(e){return this.makeRequest("/generate",e)}tokenize({text:e}){return this.makeRequest("/tokenize",{text:e})}detokenize({tokens:e}){return this.makeRequest("/detokenize",{tokens:e})}embed(e){const c=r=>{const n=[];for(const u of r){const o=n[n.length-1];!o||o.length===i?n.push([u]):o.push(u)}return n};return Promise.all(c(e.texts).map(r=>this.makeRequest("/embed",{...e,texts:r}))).then(r=>{let n=[];r.forEach(o=>{n=n.concat(o.body.embeddings)});const u=r[0].body.meta||void 0;return{statusCode:r[0].statusCode,body:{embeddings:n,meta:u}}})}classify(e){return this.makeRequest("/classify",e)}detectLanguage(e){return this.makeRequest("/detect-language",e)}summarize(e){return this.makeRequest("/summarize",e)}}const m=new d;t.exports=m}),f=p();export{f as default};
